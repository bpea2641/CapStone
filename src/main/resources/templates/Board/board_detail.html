<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>CapStone Project</title>
  <meta content="" name="description">
  <meta content="" name="keywords">
  <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>


  <!-- Favicons -->
  <link href="/assets/img/favicon.png" rel="icon">
  <link href="/assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="/assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="/assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="/assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="/assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="/assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="/assets/css/style.css" rel="stylesheet">

  <style>
    #enterclear {
    white-space: pre-wrap;
    }

            .styled-table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            font-size: 0.9em;
            font-family: sans-serif;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
        }

        .styled-table thead tr {
            background-color: #4B89DC;
            color: #ffffff;
            text-align: left;
        }

        .styled-table th,
        .styled-table td {
            padding: 12px 15px;
        }

        .styled-table tbody tr {
            border-bottom: 1px solid #dddddd;
        }

        .styled-table tbody tr:nth-of-type(even) {
            background-color: #f3f3f3;
        }

        .styled-table tbody tr:last-of-type {
            border-bottom: 2px solid #ffffff;
        }
    /*--------------------------------------------------------------
# General Styles
--------------------------------------------------------------*/
body {
  font-family: 'Arial', sans-serif;
  background-color: #f5f5f5;
  color: #444;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
  background: #fff;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  border-radius: 8px;
}

h1 {
  color: #5a5af3;
}

/*--------------------------------------------------------------
# Table Styles
--------------------------------------------------------------*/
.styled-table {
  width: 100%;
  border-collapse: collapse;
  margin: 25px 0;
  font-size: 1em;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.styled-table th,
.styled-table td {
  padding: 12px 15px;
  text-align: left;
}

.styled-table th {
  background-color: #5a5af3;
  color: #ffffff;
}

.styled-table tr {
  border-bottom: 1px solid #dddddd;
}

.styled-table tr:nth-of-type(even) {
  background-color: #f3f3f3;
}

.styled-table tr:last-of-type {
  border-bottom: 2px solid #5a5af3;
}

.styled-table img {
  max-width: 100%;
  height: auto;
  border-radius: 8px;
}

/*--------------------------------------------------------------
# Comment Section
--------------------------------------------------------------*/
.comment-section {
  margin: 20px 0;
}

#comment-write input[type="text"] {
  width: calc(50% - 10px);
  padding: 10px;
  margin-right: 10px;
  margin-bottom: 10px;
  border: 1px solid #ddd;
  border-radius: 4px;
}

#comment-write-btn {
  background-color: #5a5af3;
  color: #fff;
  padding: 10px 20px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

#comment-write-btn:hover {
  background-color: #7272f5;
}

.comment-section table {
  width: 100%;
}

.comment-section th, .comment-section td {
  padding: 10px;
  border: 1px solid #ddd;
}

.comment-section th {
  background-color: #5a5af3;
  color: #fff;
}

.comment-section tr:nth-of-type(even) {
  background-color: #f3f3f3;
}

  </style>
  <link rel="icon" href="data:;base64,iVBORw0KGgo=">
</head>
<body>
<!-- ======= Header ======= -->
<header id="header" class="fixed-top header-inner-pages">
  <div class="container d-flex align-items-center justify-content-between">

    <h1 class="logo"><a href="/Resi/index">CapStone Project</a></h1>
    <!-- Uncomment below if you prefer to use an image logo -->
    <!-- <a href="index.html" class="logo"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->

    <nav id="navbar" class="navbar">
      <ul>
        <li><a class="nav-link scrollto " href="#hero">홈</a></li>
        <li><a class="nav-link scrollto" href="#about">소개</a></li>
        <li><a class="nav-link scrollto" href="#services">서비스</a></li>
        <li><a class="nav-link scrollto " href="#portfolio">게시판</a></li>
        <li><a class="nav-link scrollto" href="#team">운영진</a></li>
        <li class="dropdown"><a href="#"><span>메뉴</span> <i class="bi bi-chevron-down"></i></a>
          <ul>
            <li><a href="/board/paging">페이징</a></li>
            <li class="dropdown"><a href="#"><span>AI 메뉴</span> <i class="bi bi-chevron-right"></i></a>
              <ul>
                <li onclick="main_botReq()"><a href="#">메인 AI</a></li>
                <li onclick="psychology_botReq()"><a href="#">심리 AI</a></li>
                <li onclick="story_botReq()"><a href="#">스토리 AI</a></li>
                <li onclick="mbti_botReq()"><a href="#">MBTI AI</a></li>
                <li onclick="image_botReq()"><a href="#">이미지 생성 AI</a></li>
                <li onclick="image_transformation_botReq()"><a href="#">이미지 변형 AI</a></li>
                <li onclick="image_text_botReq()"><a href="#">이미지 설명 AI</a></li>
                <li><a href="/chatgpt/chatbot_image_army">군대 관상 AI</a></li>
                <li><a href="/chatgpt/chatbot_image_mbti">이미지 MBTI AI</a></li>
                <li><a href="/chatgpt/chatbot_image_translation">사진 번역 AI</a></li>
                <li onclick="text_to_speech_botReq()"><a href="#">텍스트 음성 변경 AI</a></li>
                <li onclick="speech_to_text_botReq()"><a href="#">음성 텍스트 변경 AI</a></li>
              </ul>
            </li>
            <li><a href="/board/save">게시판 작성</a></li>
            <li><a href="/board/list">글 목록</a></li>
            <li><a href="/member/logout">로그아웃</a></li>
          </ul>
        </li>
        <li><a class="nav-link scrollto" href="#contact">연락처</a></li>
        <li><a class="getstarted scrollto" href="#about">Get Started</a></li>
        <li>
          <form method="GET" th:action="@{/board/boardList}" th:value="${param.searchText}">
            <div class="col">
              <div class="input-group" style="padding: 20px;">
                <input type="text" class="form-control" id="searchText" name="searchText" placeholder="게시판 검색">
                <button type="submit" class="btn btn-primary">검색</button>
              </div>
            </div>
          </form>
        </li>
      </ul>
      <i class="bi bi-list mobile-nav-toggle"></i>
    </nav><!-- .navbar -->

  </div>
</header><!-- End Header -->

<main id="main">
  <div class="container">
    <div class="content">
      <br />
      <br />
      <br />
      <br />
      <br />
      <br />
      <br />
      <h1>상세 화면</h1>
      <table class="styled-table">
        <tr>
          <th>id</th>
          <td th:text="${board.id}"></td>
        </tr>
        <tr>
          <th>title</th>
          <td th:text="${board.boardTitle}"></td>
        </tr>
        <tr>
          <th>writer</th>
          <td th:text="${board.boardWriter}"></td>
        </tr>
        <tr>
          <th>date</th>
          <td th:text="*{#temporals.format(board.boardCreatedTime, 'yyyy-MM-dd HH:mm:ss')}"></td>
        </tr>
        <tr>
          <th>hits</th>
          <td th:text="${board.boardHits}"></td>
        </tr>
        <tr>
          <th>contents</th>
          <td id="enterclear" th:text="${board.boardContents}"></td>
        </tr>
        <tr th:if="${board.fileAttached == 1}">
          <th>image</th>
          <td><img th:src="@{|/upload/${board.storedFileName}|}" alt=""></td>
        </tr>
      </table>

      <!-- 댓글 작성 부분 -->
      <div id="comment-write" class="comment-section">
        <input type="text" id="commentWriter" placeholder="작성자">
        <input type="text" id="commentContents" placeholder="내용">
        <button id="comment-write-btn" onclick="commentWrite()">댓글작성</button>
      </div>

      <!-- 댓글 출력 부분 -->
      <div id="comment-list" class="comment-section">
        <table class="styled-table">
          <thead>
          <tr>
            <th>댓글번호</th>
            <th>작성자</th>
            <th>내용</th>
            <th>작성시간</th>
          </tr>
          </thead>
          <tbody>
          <tr th:each="comment: ${commentList}">
            <td th:text="${comment.id}"></td>
            <td th:text="${comment.commentWriter}"></td>
            <td th:text="${comment.commentContents}"></td>
            <td th:text="${comment.commentCreatedTime}"></td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</main><!-- End #main -->

<a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

<!-- Vendor JS Files -->
<script src="/assets/vendor/purecounter/purecounter_vanilla.js"></script>
<script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/assets/vendor/glightbox/js/glightbox.min.js"></script>
<script src="/assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
<script src="/assets/vendor/swiper/swiper-bundle.min.js"></script>
<script src="/assets/vendor/php-email-form/validate.js"></script>

<!-- Template Main JS File -->
<script src="/assets/js/main.js"></script>

<script>
  const commentWrite = () => {
    const writer = document.getElementById("commentWriter").value;
    const contents = document.getElementById("commentContents").value;
    console.log("작성자: ", writer);
    console.log("내용: ", contents);
    const id = [[${board.id}]];
    $.ajax({
       // 요청방식: post, 요청주소: /comment/save, 요청데이터: 작성자, 작성내용, 게시글번호
       type: "post",
       url: "/comment/board/save",
       data: {
           "commentWriter": writer,
           "commentContents": contents,
           "boardId": id
       },
       success: function (res) {
           console.log("요청성공", res);
           let output = "<table>";
           output += "<tr><th>댓글번호</th>";
           output += "<th>작성자</th>";
           output += "<th>내용</th>";
           output += "<th>작성시간</th></tr>";
           for (let i in res) {
               output += "<tr>";
               output += "<td>" + res[i].id + "</td>";
               output += "<td>" + res[i].commentWriter + "</td>";
               output += "<td>" + res[i].commentContents + "</td>";
               output += "<td>" + res[i].commentCreatedTime + "</td>";
               output += "</tr>";
           }
           output += "</table>";
           document.getElementById('comment-list').innerHTML = output;
           document.getElementById('commentWriter').value = '';
           document.getElementById('commentContents').value = '';
       },
       error: function (err) {
           console.log("요청실패", err);
       }
    });
}

    const saveReq = () => {
        location.href = "/board/save";
    }
    const listReq = () => {
        location.href = "/board/list";
    }
    const pagingReq = () => {
        location.href = "/board/paging";
    }
    const logoutReq = () => {
        location.href = "/member/logout";
    }
    const main_botReq = () => {
        location.href = "/chatgpt/chatbot_main";
    }
    const psychology_botReq = () => {
        location.href = "/chatgpt/chatbot_psychology";
    }
    const story_botReq = () => {
        location.href = "/chatgpt/chatbot_story";
    }
    const mbti_botReq = () => {
        location.href = "/chatgpt/chatbot_mbti";
    }
    const image_botReq = () => {
        location.href = "/chatgpt/chatbot_image";
    }
    const image_transformation_botReq = () => {
        location.href = "/chatgpt/chatbot_image_transformation";
    }
    const image_text_botReq = () => {
        location.href = "/chatgpt/chatbot_image_text";
    }
    const image_edit_botReq = () => {
        location.href = "/chatgpt/chatbot_image_edit";
    }
    const text_to_speech_botReq = () => {
        location.href = "/chatgpt/chatbot_texttospeech";
    }
    const speech_to_text_botReq = () => {
        location.href = "/chatgpt/chatbot_speechtotext";
    }
        const image_mbti_botReq = () => {
        location.href = "/chatgpt/chatbot_image_mbti";
    }
    const image_army_botReq = () => {
        location.href = "/chatgpt/chatbot_image_army";
    }

const updateReq = () => {
  console.log("수정 요청");
  const id = [[${board.id}]];
  location.href = "/board/update/" + id;
}

const deleteReq = () => {
  console.log("삭제 요청");
  const id = [[${board.id}]];
  location.href = "/board/delete/" + id;
}
</script>
</body>

</html>